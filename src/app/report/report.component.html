<div class="col-12">
    <div class="border rounded my-2 px-3 pt-3 text">
        <nav aria-label="breadcrumb">
            <ol class="breadcrumb text-decoration-none">
                <li class="breadcrumb-item text-capitalize"><a href="javascript:void(0)">{{user.currentUser?.username.split('@')[0]}} ({{user.currentUser?.admin ? 'Admin' : 'Client'}})</a></li>
                <li class="breadcrumb-item" aria-current="page">Reports</li>
            </ol>
        </nav>
    </div>
</div>
<div class="col-12 mt-3">
    <div class="row">
        <p class="h4">Filter Reports</p>
    </div>
    <div class="row">
        <div class="col-md-6 mt-2">
            <!-- <p class="h5">Select District</p> -->
            <mat-form-field appearance="outline" class="col-12">
                <mat-label>District</mat-label>
                <mat-select [(ngModel)]="selectedDistricts" (selectionChange)="onSelectDistrict()" multiple>
                    <mat-option [value]="dist" *ngFor="let dist of DistrictsList">{{dist}}</mat-option>
                </mat-select>
            </mat-form-field>
            <!-- <p-multiSelect [options]="cities" [(ngModel)]="selectedCities1" defaultLabel="Select a City"
                optionLabel="name" selectedItemsLabel="{0} items selected"></p-multiSelect> -->
        </div>
        <div class="col-md-6 mt-2">
            <!-- <p class="h5">Name of Grama Panchayath</p> -->
            <mat-form-field appearance="outline" class="col-12">
                <mat-label>Grama Panchayath</mat-label>
                <mat-select [(ngModel)]="selectedGps" (selectionChange)="null" multiple>
                    <mat-option [value]="gp" *ngFor="let gp of availableGps">{{gp}}</mat-option>
                </mat-select>
            </mat-form-field>
        </div>
        <div class="col-md-6 mt-2">
            <!-- <p class="h5">Select District</p> -->
            <mat-form-field appearance="outline" class="col-12">
                <mat-label>Phase Components</mat-label>
                <mat-select [(ngModel)]="SelectedPhases" (selectionChange)="onSelectPhase()" multiple>
                    <mat-option [value]="phase" *ngFor="let phase of phaseComponents">{{phase}}</mat-option>
                </mat-select>
            </mat-form-field>
        </div>
        <div class="col-md-6 mt-2">
            <!-- <p class="h5">Select District</p> -->
            <mat-form-field appearance="outline" class="col-12">
                <mat-label>Components</mat-label>
                <mat-select [(ngModel)]="selectedComponents" (selectionChange)="onSelectComponent($event)" multiple>
                    <mat-option [value]="comp" *ngFor="let comp of availableComponents">{{comp}}</mat-option>
                </mat-select>
            </mat-form-field>
        </div>
    </div>
    <div class="row mt-4">
        <div class="col-12">
            <button mat-raised-button
                (click)="data.printContentByDiv('mainReport', '.bg-shade {background-color: #e4e2e2;} @media print { .pagebreak { page-break-before: always; !important } } .text-area-value { white-space: pre-wrap;}')"
                color="primary" class="px-4 py-2">Print Report Now <mat-icon>print</mat-icon></button>
        </div>
    </div>
</div>
<hr>
<div class="col-12 mt-3 text-center" id="mainReport">
    <div class="row">
        <div class="col-12">
            <p class="text-center h1 p-0 m-0" style="font-size: 3.5rem;">{{configData.appTitle}}</p>
        </div>
        <div class="col-12">
            <p class="text-center h2 p-0 m-0 smi" style="font-size: 2.5rem;">{{data.appName}}</p>
        </div>
        <div class="col-12">
            <p class="text-center h2 mb-4 pt-0" style="font-size: 2rem;">Report</p>
        </div>
    </div>
    <div class="row mb-3" *ngFor="let district of selectedDistricts">
        <div class="col-12 pagebreak" *ngFor="let gp of selectedGps">
            <div class="mb-4 " *ngIf="checkGpInDistrict(district,gp)">
                <strong class="text-center pagebreak fs-2 d-block mb-3">{{district}} District, {{gp}} Grama Panchayath</strong>
                <!-- <div class="row" *ngIf="SelectedPhases.includes('Planning Phase')">
                    <app-isa-positioning [print]="true" [district]="district" [gp]="gp" phase='Planning Phase'
                        name='planningphase/isapositioning' *ngIf="selectedComponents.includes('ISA Positioning')">
                    </app-isa-positioning>
                </div> -->
                <div class="row" *ngIf="SelectedPhases.includes('IEC/BCC/IPC activities')">
                    <app-wall-paintings [print]="true" [district]="district" [gp]="gp" phase='IEC/BCC/IPC activities'
                        name='iec-activities/wall-paintings'
                        *ngIf="selectedComponents.includes('Wall Writings/ Paintings')">
                    </app-wall-paintings>
                </div>
                <div class="row" *ngIf="SelectedPhases.includes('IEC/BCC/IPC activities')">
                    <app-hoardings-banners [print]="true" [district]="district" [gp]="gp" phase='IEC/BCC/IPC activities'
                        name='iec-activities/hoardings-banners'
                        *ngIf="selectedComponents.includes('Hoardings/ Banners')">
                    </app-hoardings-banners>
                </div>
                <div class="row" *ngIf="SelectedPhases.includes('IEC/BCC/IPC activities')">
                    <app-radio-jingles [print]="true" [district]="district" [gp]="gp" phase='IEC/BCC/IPC activities'
                        name='iec-activities/radio-jingles'
                        *ngIf="selectedComponents.includes('Radio jingles')">
                    </app-radio-jingles>
                </div>
                <div class="row" *ngIf="SelectedPhases.includes('IEC/BCC/IPC activities')">
                    <app-tv-sports [print]="true" [district]="district" [gp]="gp" phase='IEC/BCC/IPC activities'
                        name='iec-activities/tv-spots'
                        *ngIf="selectedComponents.includes('TV spots')">
                    </app-tv-sports>
                </div>
                <div class="row" *ngIf="SelectedPhases.includes('IEC/BCC/IPC activities')">
                    <app-flipbook-charts [print]="true" [district]="district" [gp]="gp" phase='IEC/BCC/IPC activities'
                        name='iec-activities/flipbooks-charts'
                        *ngIf="selectedComponents.includes('Flipbooks/ charts')">
                    </app-flipbook-charts>
                </div>
                <div class="row" *ngIf="SelectedPhases.includes('IEC/BCC/IPC activities')">
                    <app-posters-tourist-locations [print]="true" [district]="district" [gp]="gp" phase='IEC/BCC/IPC activities'
                        name='iec-activities/posters-tourist-locations'
                        *ngIf="selectedComponents.includes('Posters at tourist locations')">
                    </app-posters-tourist-locations>
                </div>
                <div class="row" *ngIf="SelectedPhases.includes('IEC/BCC/IPC activities')">
                    <app-schools [print]="true" [district]="district" [gp]="gp" phase='IEC/BCC/IPC activities'
                        name='iec-activities/schools'
                        *ngIf="selectedComponents.includes('Schools')">
                    </app-schools>
                </div>
                <div class="row" *ngIf="SelectedPhases.includes('IEC/BCC/IPC activities')">
                    <app-anganawadi [print]="true" [district]="district" [gp]="gp" phase='IEC/BCC/IPC activities'
                        name='iec-activities/anganawadi-centers'
                        *ngIf="selectedComponents.includes('Anganwadi centers')">
                    </app-anganawadi>
                </div>
                <div class="row" *ngIf="SelectedPhases.includes('Engagements of ISAs')">
                    <app-isa-positioning [print]="true" [district]="district" [gp]="gp" phase='Engagements of ISAs'
                        name='engagement-isa/isa-positioning'
                        *ngIf="selectedComponents.includes('ISA Positioning')">
                    </app-isa-positioning>
                </div>
                <div class="row" *ngIf="SelectedPhases.includes('Engagements of ISAs')">
                    <app-orientation-to-gp-board [print]="true" [district]="district" [gp]="gp" phase='Engagements of ISAs'
                        name='engagement-isa/orientation-to-gp-board-members'
                        *ngIf="selectedComponents.includes('Orientation to GP board members, socio political leaders')">
                    </app-orientation-to-gp-board>
                </div>
                <div class="row" *ngIf="SelectedPhases.includes('Engagements of ISAs')">
                    <app-special-orientation-training [print]="true" [district]="district" [gp]="gp" phase='Engagements of ISAs'
                        name='engagement-isa/special-orientation-training'
                        *ngIf="selectedComponents.includes('Special orientation training for key stake holders suchas socio, political and Oppenion leaders, at GP/ Village level ')">
                    </app-special-orientation-training>
                </div>
            </div>
        </div>
    </div>
</div>